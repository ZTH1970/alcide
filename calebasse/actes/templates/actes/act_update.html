{% load widget_tweaks %}
<form action="{{ request.get_full_path}}" method="post">
{% csrf_token %}
<p>{{ object.patient.id }} {{ object.patient }} ({{ object.get_state }})</p>
<p>{{ form.act_type }}</p>
<p>{{ object.date }} - {{ object.time }} - {{ object.duration }} minutes
{% if object.is_lost %}<button class="flat">Acte perdu</button>{% endif %}</p>
{{ form.errors }}

<table>
  <tr><td width="50%">
      <h4>Intervenants</h4>
      <div id="intervenants">
        {{ form.doctors.errors }}
        {{ form.doctors }}
      </div>
    </td>

    <td width="50%">

      <ul>
        {% for state in object.actvalidationstate_set.all %}
        <li>{{ state }} le {{ state.created }}</li>
        {% endfor %}
        <!-- <li>Rendez-vous pris le 5 juillet 2012 à 10:36</li>
        <li>Acte validé le 10 août 2012 à 9h10</li>
        <li>En cours de facturation (123) <button class="flat">Acte perdu</button></li> -->
      </ul>
    </td>
  </tr>
  <tr>
  </tr>
</table>

{{ form.is_lost }} {{ form.is_lost.label }}<br/>
{{ form.pause }} {{ form.pause.label }}<br/>
{{ form.switch_billable }} {{ form.switch_billable.label }}</br>
{{ form.valide }} {{ form.valide.label }}
<br/>
<br/>
{{ form.comment }}
</form>

